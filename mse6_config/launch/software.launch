<?xml version="1.0" encoding="utf-8"?>
<launch>

  <arg name="robot" default="mse6"/>
  <arg name="localization_type" default="FIXED_ODOM"/>
      
  <arg name="map_directory" default="empty"/>
  
  <group ns="$(arg robot)">          
        
    <param name="robot_description" command="$(find xacro)/xacro --inorder '$(find mse6_description)/urdf/mse6.xacro'"/>
    
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>    
    
    <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
            <param name="use_gui" value="False"/>
    </node>    
            
    <node name="controller_spawner" pkg="controller_manager" type="spawner" 
            respawn="false" output="screen" 
            args="joint_state_controller mobile_base_controller"/>
    
    <include file="$(find mse6_config)/launch/localization.launch">
        <arg name="localization_type" value="$(arg localization_type)"/>
        <arg name="map_directory" value="$(arg map_directory)"/>
    </include>
    
    <include file="$(find mse6_config)/launch/navigation.launch"/>

  </group>
  
</launch>
